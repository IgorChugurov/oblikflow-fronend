{
  "specVersion": 1,
  "entityName": "Enterprise",
  "tableName": "enterprises",
  "entityDefinitionId": "enterprises",

  "list": {
    "pageTitle": "Мої підприємства",
    "description": "Керування підприємствами та доступом до них",
    "searchPlaceholder": "Пошук підприємств за назвою...",
    "emptyStateTitle": "Немає підприємств",
    "emptyStateMessages": [
      "Створіть своє перше підприємство, щоб почати роботу",
      "Підприємство - це організація, яка об'єднує проєкти та команду"
    ],

    "showSearch": true,
    "showCreateButton": true,
    "createButtonText": "Створити підприємство",

    "enablePagination": true,
    "pageSize": 20,
    "enableFilters": true,

    "searchableFields": ["name"],

    "columns": [
      {
        "id": "name",
        "name": "name",
        "label": "Назва",
        "type": "link",
        "displayInTable": true,
        "displayIndex": 0,
        "searchable": true,
        "sortable": true,
        "width": "40%",
        "description": "Назва підприємства",
        "urlTemplate": "/workspace?enterprise_id={id}",
        "external": true,
        "externalBaseUrl": "WORKSPACE"
      },
      {
        "id": "country_code",
        "name": "country_code",
        "label": "Країна",
        "type": "badge",
        "displayInTable": true,
        "displayIndex": 1,
        "width": "10%",
        "variant": "secondary",
        "description": "Код країни реєстрації"
      },
      {
        "id": "default_currency",
        "name": "default_currency",
        "label": "Валюта",
        "type": "text",
        "displayInTable": true,
        "displayIndex": 2,
        "width": "10%",
        "description": "Валюта обліку"
      },
      {
        "id": "status",
        "name": "status",
        "label": "Статус",
        "type": "badge",
        "displayInTable": true,
        "displayIndex": 3,
        "width": "15%",
        "variantMap": {
          "active": "success",
          "inactive": "secondary",
          "suspended": "destructive"
        },
        "labelMap": {
          "active": "Активне",
          "inactive": "Неактивне",
          "suspended": "Призупинено"
        },
        "description": "Статус підприємства"
      },
      {
        "id": "is_owner",
        "name": "is_owner",
        "label": "Роль",
        "type": "badge",
        "displayInTable": true,
        "displayIndex": 4,
        "width": "15%",
        "transform": "booleanToRole",
        "variantMap": {
          "true": "default",
          "false": "outline"
        },
        "labelMap": {
          "true": "Власник",
          "false": "Адміністратор"
        },
        "description": "Ваша роль в підприємстві"
      },
      {
        "id": "created_at",
        "name": "created_at",
        "label": "Створено",
        "type": "date",
        "displayInTable": false,
        "displayIndex": 5,
        "format": "dd.MM.yyyy",
        "description": "Дата створення"
      }
    ],

    "filters": [
      {
        "id": "status",
        "name": "status",
        "label": "Статус",
        "type": "select",
        "options": [
          { "value": "active", "label": "Активні" },
          { "value": "inactive", "label": "Неактивні" },
          { "value": "suspended", "label": "Призупинені" }
        ]
      },
      {
        "id": "role",
        "name": "is_owner",
        "label": "Роль",
        "type": "select",
        "options": [
          { "value": "true", "label": "Власник" },
          { "value": "false", "label": "Адміністратор" }
        ]
      }
    ],

    "actions": [
      {
        "id": "edit",
        "type": "edit",
        "label": "Редагувати",
        "icon": "Pencil",
        "variant": "ghost",
        "urlTemplate": "/enterprises/{id}/edit"
      },
      {
        "id": "members",
        "type": "link",
        "label": "Учасники",
        "icon": "Users",
        "variant": "ghost",
        "urlTemplate": "/enterprises/{id}/members",
        "description": "Управління учасниками підприємства"
      },
      {
        "id": "delete",
        "type": "delete",
        "label": "Видалити",
        "icon": "Trash2",
        "variant": "ghost",
        "confirmDialog": {
          "title": "Видалити підприємство?",
          "description": "Ви впевнені, що хочете видалити підприємство \"{name}\"? Цю дію не можна буде скасувати.",
          "confirmText": "Видалити",
          "cancelText": "Скасувати",
          "variant": "destructive"
        },
        "showOnlyFor": {
          "field": "is_owner",
          "value": true
        }
      }
    ],

    "rowClick": {
      "action": "navigate",
      "urlTemplate": "/{id}/workspace",
      "description": "Перейти до робочого простору підприємства",
      "setCookie": {
        "name": "enterprise_id",
        "valueField": "id"
      }
    }
  },

  "formCreate": {
    "mode": "create",
    "entityName": "Enterprise",

    "ui": {
      "pageTitle": "Створити підприємство",
      "pageDescription": "Створіть нове підприємство для управління проєктами та командою",
      "submitButtonText": "Створити підприємство",
      "cancelButtonText": "Скасувати",
      "successMessage": "Підприємство успішно створено",
      "errorMessage": "Помилка створення підприємства"
    },

    "messages": {
      "requiredField": "Це поле обов'язкове",
      "invalidEmail": "Невірний формат email",
      "minLength": "Мінімальна довжина {min} символів",
      "maxLength": "Максимальна довжина {max} символів"
    },

    "sections": [
      {
        "id": 0,
        "title": "Основна інформація",
        "description": "Загальні дані про підприємство",
        "controls": [
          {
            "id": "name",
            "name": "name",
            "label": "Назва підприємства",
            "type": "text",
            "dbType": "varchar",
            "required": true,
            "requiredText": "Назва підприємства обов'язкова",
            "placeholder": "Наприклад, ФОП Іванов",
            "description": "Офіційна назва вашого підприємства",
            "minLength": 1,
            "maxLength": 255,
            "forCreatePage": true,
            "forEditPage": true,
            "forEditPageDisabled": false,
            "displayIndex": 0,
            "sectionIndex": 0
          },
          {
            "id": "country_code",
            "name": "country_code",
            "label": "Країна реєстрації",
            "type": "select",
            "dbType": "varchar",
            "required": true,
            "requiredText": "Оберіть країну реєстрації",
            "placeholder": "Оберіть країну",
            "description": "Країна, де зареєстроване підприємство (не можна змінити пізніше)",
            "loadOptions": true,
            "optionsSource": "countries",
            "forCreatePage": true,
            "forEditPage": true,
            "forEditPageDisabled": true,
            "displayIndex": 1,
            "sectionIndex": 0
          }
        ]
      },
      {
        "id": 1,
        "title": "Налаштування обліку",
        "description": "Валюта та мова інтерфейсу",
        "controls": [
          {
            "id": "default_currency",
            "name": "default_currency",
            "label": "Валюта обліку",
            "type": "select",
            "dbType": "varchar",
            "required": true,
            "requiredText": "Оберіть валюту обліку",
            "placeholder": "Оберіть валюту",
            "description": "Основна валюта для фінансового обліку",
            "loadOptions": true,
            "optionsSource": "currencies",
            "autoSelectFromCountry": true,
            "forCreatePage": true,
            "forEditPage": true,
            "forEditPageDisabled": false,
            "displayIndex": 0,
            "sectionIndex": 1
          },
          {
            "id": "default_locale",
            "name": "default_locale",
            "label": "Мова інтерфейсу",
            "type": "select",
            "dbType": "varchar",
            "required": false,
            "placeholder": "Оберіть мову (опціонально)",
            "description": "Мова за замовчуванням для інтерфейсу. Якщо не вказано, буде використано UK",
            "loadOptions": true,
            "optionsSource": "locales",
            "defaultStringValue": "uk",
            "forCreatePage": true,
            "forEditPage": true,
            "forEditPageDisabled": false,
            "displayIndex": 1,
            "sectionIndex": 1
          }
        ]
      }
    ],

    "relationFieldNames": []
  },

  "formEdit": {
    "mode": "edit",
    "entityName": "Enterprise",

    "ui": {
      "pageTitle": "Редагувати підприємство",
      "pageDescription": "Оновіть інформацію про підприємство",
      "submitButtonText": "Зберегти зміни",
      "cancelButtonText": "Скасувати",
      "successMessage": "Підприємство успішно оновлено",
      "errorMessage": "Помилка оновлення підприємства"
    },

    "messages": {
      "requiredField": "Це поле обов'язкове",
      "invalidEmail": "Невірний формат email",
      "minLength": "Мінімальна довжина {min} символів",
      "maxLength": "Максимальна довжина {max} символів"
    },

    "sections": [
      {
        "id": 0,
        "title": "Основна інформація",
        "description": "Загальні дані про підприємство",
        "controls": [
          {
            "id": "name",
            "name": "name",
            "label": "Назва підприємства",
            "type": "text",
            "dbType": "varchar",
            "required": true,
            "requiredText": "Назва підприємства обов'язкова",
            "placeholder": "Наприклад, ФОП Іванов",
            "description": "Офіційна назва вашого підприємства",
            "minLength": 1,
            "maxLength": 255,
            "forCreatePage": true,
            "forEditPage": true,
            "forEditPageDisabled": false,
            "displayIndex": 0,
            "sectionIndex": 0
          },
          {
            "id": "country_code",
            "name": "country_code",
            "label": "Країна реєстрації",
            "type": "select",
            "dbType": "varchar",
            "required": true,
            "requiredText": "Оберіть країну реєстрації",
            "placeholder": "Оберіть країну",
            "description": "Країна, де зареєстроване підприємство (не можна змінити)",
            "loadOptions": true,
            "optionsSource": "countries",
            "forCreatePage": true,
            "forEditPage": true,
            "forEditPageDisabled": true,
            "displayIndex": 1,
            "sectionIndex": 0
          }
        ]
      },
      {
        "id": 1,
        "title": "Налаштування обліку",
        "description": "Валюта та мова інтерфейсу",
        "controls": [
          {
            "id": "default_currency",
            "name": "default_currency",
            "label": "Валюта обліку",
            "type": "select",
            "dbType": "varchar",
            "required": true,
            "requiredText": "Оберіть валюту обліку",
            "placeholder": "Оберіть валюту",
            "description": "Основна валюта для фінансового обліку",
            "loadOptions": true,
            "optionsSource": "currencies",
            "forCreatePage": true,
            "forEditPage": true,
            "forEditPageDisabled": false,
            "displayIndex": 0,
            "sectionIndex": 1
          },
          {
            "id": "default_locale",
            "name": "default_locale",
            "label": "Мова інтерфейсу",
            "type": "select",
            "dbType": "varchar",
            "required": false,
            "placeholder": "Оберіть мову (опціонально)",
            "description": "Мова за замовчуванням для інтерфейсу",
            "loadOptions": true,
            "optionsSource": "locales",
            "forCreatePage": true,
            "forEditPage": true,
            "forEditPageDisabled": false,
            "displayIndex": 1,
            "sectionIndex": 1
          }
        ]
      }
    ],

    "relationFieldNames": []
  },

  "validationCreate": {
    "fields": {
      "name": {
        "required": true,
        "type": "string",
        "minLength": 1,
        "maxLength": 255,
        "errorMessages": {
          "required": "Назва підприємства обов'язкова",
          "minLength": "Назва повинна містити хоча б 1 символ",
          "maxLength": "Назва не може бути довшою за 255 символів"
        }
      },
      "country_code": {
        "required": true,
        "type": "string",
        "pattern": "^[A-Z]{2}$",
        "errorMessages": {
          "required": "Оберіть країну реєстрації",
          "pattern": "Невірний код країни"
        }
      },
      "default_currency": {
        "required": true,
        "type": "string",
        "pattern": "^[A-Z]{3}$",
        "errorMessages": {
          "required": "Оберіть валюту обліку",
          "pattern": "Невірний код валюти"
        }
      },
      "default_locale": {
        "required": false,
        "type": "string",
        "pattern": "^[a-z]{2}$",
        "errorMessages": {
          "pattern": "Невірний код мови"
        }
      }
    }
  },

  "validationEdit": {
    "fields": {
      "name": {
        "required": true,
        "type": "string",
        "minLength": 1,
        "maxLength": 255,
        "errorMessages": {
          "required": "Назва підприємства обов'язкова",
          "minLength": "Назва повинна містити хоча б 1 символ",
          "maxLength": "Назва не може бути довшою за 255 символів"
        }
      },
      "default_currency": {
        "required": true,
        "type": "string",
        "pattern": "^[A-Z]{3}$",
        "errorMessages": {
          "required": "Оберіть валюту обліку",
          "pattern": "Невірний код валюти"
        }
      },
      "default_locale": {
        "required": false,
        "type": "string",
        "pattern": "^[a-z]{2}$",
        "errorMessages": {
          "pattern": "Невірний код мови"
        }
      }
    }
  }
}
