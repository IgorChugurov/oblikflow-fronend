{
  "specVersion": 1,
  "entityName": "Enterprise",
  "tableName": "enterprises",
  "entityDefinitionId": "enterprises",

  "list": {
    "pageTitle": "entities.enterprises.list.pageTitle",
    "description": "entities.enterprises.list.description",
    "searchPlaceholder": "entities.enterprises.list.searchPlaceholder",
    "emptyStateTitle": "entities.enterprises.list.emptyStateTitle",
    "emptyStateMessages": [
      "entities.enterprises.list.emptyStateMessage1",
      "entities.enterprises.list.emptyStateMessage2"
    ],

    "showSearch": true,
    "showCreateButton": true,
    "createButtonText": "entities.enterprises.list.createButtonText",

    "enablePagination": true,
    "pageSize": 20,
    "enableFilters": true,

    "searchableFields": ["name"],

    "columns": [
      {
        "id": "name",
        "name": "name",
        "label": "entities.enterprises.list.columns.name.label",
        "type": "link",
        "displayInTable": true,
        "displayIndex": 0,
        "searchable": true,
        "sortable": true,
        "width": "40%",
        "description": "entities.enterprises.list.columns.name.description",
        "urlTemplate": "/workspace?enterprise_id={id}",
        "external": true,
        "externalBaseUrl": "WORKSPACE"
      },
      {
        "id": "country_code",
        "name": "country_code",
        "label": "entities.enterprises.list.columns.country_code.label",
        "type": "badge",
        "displayInTable": true,
        "displayIndex": 1,
        "width": "10%",
        "variant": "secondary",
        "description": "entities.enterprises.list.columns.country_code.description"
      },
      {
        "id": "default_currency",
        "name": "default_currency",
        "label": "entities.enterprises.list.columns.default_currency.label",
        "type": "text",
        "displayInTable": true,
        "displayIndex": 2,
        "width": "10%",
        "description": "entities.enterprises.list.columns.default_currency.description"
      },
      {
        "id": "status",
        "name": "status",
        "label": "entities.enterprises.list.columns.status.label",
        "type": "badge",
        "displayInTable": true,
        "displayIndex": 3,
        "width": "15%",
        "variantMap": {
          "active": "success",
          "inactive": "secondary",
          "suspended": "destructive"
        },
        "labelMap": {
          "active": "entities.enterprises.list.columns.status.active",
          "inactive": "entities.enterprises.list.columns.status.inactive",
          "suspended": "entities.enterprises.list.columns.status.suspended"
        },
        "description": "entities.enterprises.list.columns.status.description"
      },
      {
        "id": "is_owner",
        "name": "is_owner",
        "label": "entities.enterprises.list.columns.is_owner.label",
        "type": "badge",
        "displayInTable": true,
        "displayIndex": 4,
        "width": "15%",
        "transform": "booleanToRole",
        "variantMap": {
          "true": "default",
          "false": "outline"
        },
        "labelMap": {
          "true": "entities.enterprises.list.columns.is_owner.owner",
          "false": "entities.enterprises.list.columns.is_owner.admin"
        },
        "description": "entities.enterprises.list.columns.is_owner.description"
      },
      {
        "id": "created_at",
        "name": "created_at",
        "label": "entities.enterprises.list.columns.created_at.label",
        "type": "date",
        "displayInTable": false,
        "displayIndex": 5,
        "format": "dd.MM.yyyy",
        "description": "entities.enterprises.list.columns.created_at.description"
      }
    ],

    "filters": [
      {
        "id": "status",
        "name": "status",
        "label": "entities.enterprises.list.filters.status.label",
        "type": "select",
        "options": [
          { "value": "active", "label": "entities.enterprises.list.filters.status.active" },
          { "value": "inactive", "label": "entities.enterprises.list.filters.status.inactive" },
          { "value": "suspended", "label": "entities.enterprises.list.filters.status.suspended" }
        ]
      },
      {
        "id": "role",
        "name": "is_owner",
        "label": "entities.enterprises.list.filters.role.label",
        "type": "select",
        "options": [
          { "value": "true", "label": "entities.enterprises.list.filters.role.owner" },
          { "value": "false", "label": "entities.enterprises.list.filters.role.admin" }
        ]
      }
    ],

    "actions": [
      {
        "id": "edit",
        "type": "edit",
        "label": "form.buttons.edit",
        "icon": "Pencil",
        "variant": "ghost",
        "urlTemplate": "/enterprises/{id}/edit"
      },
      {
        "id": "members",
        "type": "link",
        "label": "entities.enterprises.list.actions.members",
        "icon": "Users",
        "variant": "ghost",
        "urlTemplate": "/enterprises/{id}/members",
        "description": "entities.enterprises.list.actions.membersDescription"
      },
      {
        "id": "delete",
        "type": "delete",
        "label": "form.buttons.delete",
        "icon": "Trash2",
        "variant": "ghost",
        "confirmDialog": {
          "title": "entities.enterprises.list.actions.confirmDeleteTitle",
          "description": "entities.enterprises.list.actions.confirmDeleteDescription",
          "confirmText": "form.buttons.delete",
          "cancelText": "form.buttons.cancel",
          "variant": "destructive"
        },
        "showOnlyFor": {
          "field": "is_owner",
          "value": true
        }
      }
    ],

    "rowClick": {
      "action": "navigate",
      "urlTemplate": "/{id}/workspace",
      "description": "entities.enterprises.list.rowClick.description",
      "setCookie": {
        "name": "enterprise_id",
        "valueField": "id"
      }
    }
  },

  "formCreate": {
    "mode": "create",
    "entityName": "Enterprise",

    "ui": {
      "pageTitle": "entities.enterprises.formCreate.pageTitle",
      "pageDescription": "entities.enterprises.formCreate.pageDescription",
      "submitButtonText": "entities.enterprises.formCreate.submitButtonText",
      "cancelButtonText": "form.buttons.cancel",
      "successMessage": "entities.enterprises.formCreate.successMessage",
      "errorMessage": "entities.enterprises.formCreate.errorMessage"
    },

    "messages": {
      "requiredField": "entities.enterprises.formCreate.messages.requiredField",
      "invalidEmail": "entities.enterprises.formCreate.messages.invalidEmail",
      "minLength": "entities.enterprises.formCreate.messages.minLength",
      "maxLength": "entities.enterprises.formCreate.messages.maxLength"
    },

    "sections": [
      {
        "id": 0,
        "title": "form.sections.basicInfo.title",
        "description": "entities.enterprises.formCreate.sections.basicInfo.description",
        "controls": [
          {
            "id": "name",
            "name": "name",
            "label": "entities.enterprises.formCreate.fields.name.label",
            "type": "text",
            "dbType": "varchar",
            "required": true,
            "requiredText": "entities.enterprises.formCreate.fields.name.required",
            "placeholder": "entities.enterprises.formCreate.fields.name.placeholder",
            "description": "entities.enterprises.formCreate.fields.name.description",
            "minLength": 1,
            "maxLength": 255,
            "forCreatePage": true,
            "forEditPage": true,
            "forEditPageDisabled": false,
            "displayIndex": 0,
            "sectionIndex": 0
          },
          {
            "id": "country_code",
            "name": "country_code",
            "label": "entities.enterprises.formCreate.fields.country_code.label",
            "type": "select",
            "dbType": "varchar",
            "required": true,
            "requiredText": "entities.enterprises.formCreate.fields.country_code.required",
            "placeholder": "entities.enterprises.formCreate.fields.country_code.placeholder",
            "description": "entities.enterprises.formCreate.fields.country_code.description",
            "loadOptions": true,
            "optionsSource": "countries",
            "forCreatePage": true,
            "forEditPage": true,
            "forEditPageDisabled": true,
            "displayIndex": 1,
            "sectionIndex": 0
          }
        ]
      },
      {
        "id": 1,
        "title": "form.sections.accountingSettings.title",
        "description": "form.sections.accountingSettings.description",
        "controls": [
          {
            "id": "default_currency",
            "name": "default_currency",
            "label": "entities.enterprises.formCreate.fields.default_currency.label",
            "type": "select",
            "dbType": "varchar",
            "required": true,
            "requiredText": "entities.enterprises.formCreate.fields.default_currency.required",
            "placeholder": "entities.enterprises.formCreate.fields.default_currency.placeholder",
            "description": "entities.enterprises.formCreate.fields.default_currency.description",
            "loadOptions": true,
            "optionsSource": "currencies",
            "autoSelectFromCountry": true,
            "forCreatePage": true,
            "forEditPage": true,
            "forEditPageDisabled": false,
            "displayIndex": 0,
            "sectionIndex": 1
          },
          {
            "id": "default_locale",
            "name": "default_locale",
            "label": "entities.enterprises.formCreate.fields.default_locale.label",
            "type": "select",
            "dbType": "varchar",
            "required": false,
            "placeholder": "entities.enterprises.formCreate.fields.default_locale.placeholder",
            "description": "entities.enterprises.formCreate.fields.default_locale.description",
            "loadOptions": true,
            "optionsSource": "locales",
            "defaultStringValue": "uk",
            "forCreatePage": true,
            "forEditPage": true,
            "forEditPageDisabled": false,
            "displayIndex": 1,
            "sectionIndex": 1
          }
        ]
      }
    ],

    "relationFieldNames": []
  },

  "formEdit": {
    "mode": "edit",
    "entityName": "Enterprise",

    "ui": {
      "pageTitle": "entities.enterprises.formEdit.pageTitle",
      "pageDescription": "entities.enterprises.formEdit.pageDescription",
      "submitButtonText": "form.buttons.saveChanges",
      "cancelButtonText": "form.buttons.cancel",
      "successMessage": "entities.enterprises.formEdit.successMessage",
      "errorMessage": "entities.enterprises.formEdit.errorMessage"
    },

    "messages": {
      "requiredField": "entities.enterprises.formCreate.messages.requiredField",
      "invalidEmail": "entities.enterprises.formCreate.messages.invalidEmail",
      "minLength": "entities.enterprises.formCreate.messages.minLength",
      "maxLength": "entities.enterprises.formCreate.messages.maxLength"
    },

    "sections": [
      {
        "id": 0,
        "title": "form.sections.basicInfo.title",
        "description": "entities.enterprises.formEdit.sections.basicInfo.description",
        "controls": [
          {
            "id": "name",
            "name": "name",
            "label": "entities.enterprises.formEdit.fields.name.label",
            "type": "text",
            "dbType": "varchar",
            "required": true,
            "requiredText": "entities.enterprises.formCreate.fields.name.required",
            "placeholder": "Наприклад, ФОП Іванов",
            "description": "Офіційна назва вашого підприємства",
            "minLength": 1,
            "maxLength": 255,
            "forCreatePage": true,
            "forEditPage": true,
            "forEditPageDisabled": false,
            "displayIndex": 0,
            "sectionIndex": 0
          },
          {
            "id": "country_code",
            "name": "country_code",
            "label": "entities.enterprises.formEdit.fields.country_code.label",
            "type": "select",
            "dbType": "varchar",
            "required": true,
            "requiredText": "entities.enterprises.formCreate.fields.country_code.required",
            "placeholder": "entities.enterprises.formEdit.fields.country_code.placeholder",
            "description": "entities.enterprises.formEdit.fields.country_code.description",
            "loadOptions": true,
            "optionsSource": "countries",
            "forCreatePage": true,
            "forEditPage": true,
            "forEditPageDisabled": true,
            "displayIndex": 1,
            "sectionIndex": 0
          }
        ]
      },
      {
        "id": 1,
        "title": "form.sections.accountingSettings.title",
        "description": "form.sections.accountingSettings.description",
        "controls": [
          {
            "id": "default_currency",
            "name": "default_currency",
            "label": "entities.enterprises.formEdit.fields.default_currency.label",
            "type": "select",
            "dbType": "varchar",
            "required": true,
            "requiredText": "entities.enterprises.formCreate.fields.default_currency.required",
            "placeholder": "entities.enterprises.formEdit.fields.default_currency.placeholder",
            "description": "Основна валюта для фінансового обліку",
            "loadOptions": true,
            "optionsSource": "currencies",
            "forCreatePage": true,
            "forEditPage": true,
            "forEditPageDisabled": false,
            "displayIndex": 0,
            "sectionIndex": 1
          },
          {
            "id": "default_locale",
            "name": "default_locale",
            "label": "entities.enterprises.formEdit.fields.default_locale.label",
            "type": "select",
            "dbType": "varchar",
            "required": false,
            "placeholder": "entities.enterprises.formEdit.fields.default_locale.placeholder",
            "description": "entities.enterprises.formEdit.fields.default_locale.description",
            "loadOptions": true,
            "optionsSource": "locales",
            "forCreatePage": true,
            "forEditPage": true,
            "forEditPageDisabled": false,
            "displayIndex": 1,
            "sectionIndex": 1
          }
        ]
      }
    ],

    "relationFieldNames": []
  },

  "validationCreate": {
    "fields": {
      "name": {
        "required": true,
        "type": "string",
        "minLength": 1,
        "maxLength": 255,
        "errorMessages": {
          "required": "entities.enterprises.formCreate.fields.name.required",
          "minLength": "entities.enterprises.formCreate.fields.name.minLength",
          "maxLength": "entities.enterprises.formCreate.fields.name.maxLength"
        }
      },
      "country_code": {
        "required": true,
        "type": "string",
        "pattern": "^[A-Z]{2}$",
        "errorMessages": {
          "required": "entities.enterprises.formCreate.fields.country_code.required",
          "pattern": "entities.enterprises.formCreate.fields.country_code.pattern"
        }
      },
      "default_currency": {
        "required": true,
        "type": "string",
        "pattern": "^[A-Z]{3}$",
        "errorMessages": {
          "required": "entities.enterprises.formCreate.fields.default_currency.required",
          "pattern": "entities.enterprises.formCreate.fields.default_currency.pattern"
        }
      },
      "default_locale": {
        "required": false,
        "type": "string",
        "pattern": "^[a-z]{2}$",
        "errorMessages": {
          "pattern": "entities.enterprises.formCreate.fields.default_locale.pattern"
        }
      }
    }
  },

  "validationEdit": {
    "fields": {
      "name": {
        "required": true,
        "type": "string",
        "minLength": 1,
        "maxLength": 255,
        "errorMessages": {
          "required": "entities.enterprises.formCreate.fields.name.required",
          "minLength": "entities.enterprises.formCreate.fields.name.minLength",
          "maxLength": "entities.enterprises.formCreate.fields.name.maxLength"
        }
      },
      "default_currency": {
        "required": true,
        "type": "string",
        "pattern": "^[A-Z]{3}$",
        "errorMessages": {
          "required": "entities.enterprises.formCreate.fields.default_currency.required",
          "pattern": "entities.enterprises.formCreate.fields.default_currency.pattern"
        }
      },
      "default_locale": {
        "required": false,
        "type": "string",
        "pattern": "^[a-z]{2}$",
        "errorMessages": {
          "pattern": "entities.enterprises.formCreate.fields.default_locale.pattern"
        }
      }
    }
  }
}
