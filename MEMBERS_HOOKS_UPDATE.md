# ‚úÖ Members Hooks - –û–±–Ω–æ–≤–ª–µ–Ω–æ

**–î–∞—Ç–∞:** 2026-01-19  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ

---

## üéØ –ß—Ç–æ –æ–±–Ω–æ–≤–ª–µ–Ω–æ

### 1. `useAddMember.ts`

**–ë—ã–ª–æ:**
```typescript
onSuccess: () => {
  // –ò–Ω–≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
  queryClient.invalidateQueries({ queryKey: ["members", enterpriseId] });
}
```

**–°—Ç–∞–ª–æ:**
```typescript
onSuccess: async () => {
  // –û–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ (safe-refetch —Å—Ç—Ä–∞—Ç–µ–≥–∏—è)
  await queryClient.refetchQueries({ 
    queryKey: ["members", enterpriseId],
    type: 'active'
  });
}
```

---

### 2. `useRemoveMember.ts`

**–ë—ã–ª–æ:**
```typescript
onSuccess: () => {
  // –ò–Ω–≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –ø–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è
  queryClient.invalidateQueries({ queryKey: ["members", enterpriseId] });
}
```

**–°—Ç–∞–ª–æ:**
```typescript
onSuccess: async () => {
  // –û–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ (safe-refetch —Å—Ç—Ä–∞—Ç–µ–≥–∏—è)
  await queryClient.refetchQueries({ 
    queryKey: ["members", enterpriseId],
    type: 'active'
  });
}
```

---

## üîÑ –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

### –î–æ (–ø—Ä–æ–±–ª–µ–º–∞):
- `invalidateQueries` - –ø–æ–º–µ—á–∞–ª –∫—ç—à –∫–∞–∫ —É—Å—Ç–∞—Ä–µ–≤—à–∏–π
- –ú–æ–≥–ª–∞ –±—ã—Ç—å –∑–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º
- –ù–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–ª –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

### –ü–æ—Å–ª–µ (—Ä–µ—à–µ–Ω–∏–µ):
- `refetchQueries` - –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ
- –ü–∞—Ä–∞–º–µ—Ç—Ä `type: 'active'` - –æ–±–Ω–æ–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ –≤–∏–¥–∏–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å —Å–ø–∏—Å–∫–∞
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç Safe Refetch —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏

---

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–µ–ø–µ—Ä—å –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –∏–ª–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤:
- ‚úÖ –°–ø–∏—Å–æ–∫ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ
- ‚úÖ –¢–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å —Å–µ—Ä–≤–µ—Ä–∞
- ‚úÖ –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å —Å –æ—Å—Ç–∞–ª—å–Ω—ã–º–∏ hooks (Enterprises)
- ‚úÖ –ï–¥–∏–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –≤–æ –≤—Å–µ–º –ø—Ä–æ–µ–∫—Ç–µ

---

## üìä –°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|-----------|--------|------------|
| **Enterprises** | ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–æ | CREATE/UPDATE/DELETE |
| **Members** | ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–æ | ADD/REMOVE |
| **UniversalList** | ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–æ | DELETE |
| **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** | ‚úÖ –ì–æ—Ç–æ–≤–æ | ADR + Guide |

---

## üß™ –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–∞
1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏–µ–º
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "–£—á–∞—Å—Ç–Ω–∏–∫–∏" (Members)
3. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤–æ–≥–æ admin (–≤–≤–µ–¥–∏—Ç–µ email)
4. **–û–∂–∏–¥–∞–µ—Ç—Å—è:** –°–ø–∏—Å–æ–∫ –æ–±–Ω–æ–≤–∏–ª—Å—è, –Ω–æ–≤—ã–π —É—á–∞—Å—Ç–Ω–∏–∫ –≤–∏–¥–µ–Ω

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –£–¥–∞–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–∞
1. –ù–∞ —Ç–æ–π –∂–µ —Å—Ç—Ä–∞–Ω–∏—Ü–µ "–£—á–∞—Å—Ç–Ω–∏–∫–∏"
2. –£–¥–∞–ª–∏—Ç–µ admin (–Ω–µ owner!)
3. **–û–∂–∏–¥–∞–µ—Ç—Å—è:** –°–ø–∏—Å–æ–∫ –æ–±–Ω–æ–≤–∏–ª—Å—è, —É—á–∞—Å—Ç–Ω–∏–∫ –∏—Å—á–µ–∑

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–í—Å–µ hooks –≤ –ø—Ä–æ–µ–∫—Ç–µ —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É—é—Ç –µ–¥–∏–Ω—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é **Safe Refetch**. üéâ
